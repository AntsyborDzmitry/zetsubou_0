define(['exports', 'module', 'ewf', './digital-customs-invoice-controller', './../../../../directives/ewf-modal/ewf-modal-directive', './../../../../directives/ewf-modal/ewf-modal-resolver-directive', './../../../../directives/ewf-file-uploader/ewf-file-uploader-directive', './../../../../directives/ewf-progress-bar/ewf-progress-bar-directive'], function (exports, module, _ewf, _digitalCustomsInvoiceController, _directivesEwfModalEwfModalDirective, _directivesEwfModalEwfModalResolverDirective, _directivesEwfFileUploaderEwfFileUploaderDirective, _directivesEwfProgressBarEwfProgressBarDirective) {
    'use strict';

    module.exports = DigitalCustomsInvoice;

    function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

    var _ewf2 = _interopRequireDefault(_ewf);

    var _DigitalCustomsInvoiceController = _interopRequireDefault(_digitalCustomsInvoiceController);

    _ewf2['default'].directive('digitalCustomsInvoice', DigitalCustomsInvoice);

    function DigitalCustomsInvoice() {
        return {
            restrict: 'EA',
            template: '<div ng-if=!dciCtrl.isDismissed()><header class=section__header><h2 class=\"section__title h2\" nls=shipment.digital_customs_invoice_popup_title></h2></header><div class=section__content><div class=row ng-if=!dciCtrl.isEnrolled()><div class=\"alert alert_info\"><a class=alert__close ng-click=dciCtrl.dismiss() nls=shipment.digital_customs_invoice_speedup_dismiss_button_label></a><h4 class=\"h4 showcase__title margin-none\" nls=shipment.digital_customs_invoice_speedup_customs_clearance_title></h4><div nls=shipment.digital_customs_invoice_speedup_learn_more_label></div><button class=\"btn btn_action btn_regular\" ng-click=dciCtrl.showEnrollmentDialog()><b nls=shipment.digital_customs_invoice_speedup_enroll_and_upload_invoice_button_label></b></button></div></div><div class=row ng-if=dciCtrl.isEnrolled()><div class=\"callout callout_white col-8\"><label class=checkbox><input type=checkbox class=checkbox__input ng-model=dciCtrl.paperless> <span class=label nls=shipment.digital_customs_invoice_upload_form_checkbox_label></span></label><div class=\"alert alert_warning\" ng-if=!dciCtrl.paperless nls=shipment.digital_customs_invoice_speedup_print_hard_copies_label></div><div ng-if=dciCtrl.paperless><div class=row ng-if=ownCustomsInvoice><p nls=shipment.digital_customs_invoice_upload_form_file_types_label></p><form name=customsInvoice enctype=multipart/form-data method=POST ng-attr-action={{dciCtrl.getFormAction()}}><div class=file-uploader ewf-file-uploader files-uploaded=\"dciCtrl.handleCustomsInvoiceUploadSuccess(documents, fileUploaderCtrl.clearFilesList)\" files-upload-error=dciCtrl.handleCustomsInvoiceUploadError(errors)><ul class=\"file-list file-list_downloaded\" ng-if=digitalCustomsInvoice.document><li class=file-list__item><div class=row><div class=col-10><a target=_blank ng-href=/api/file/{{digitalCustomsInvoice.document.key}}>{{digitalCustomsInvoice.document.fileName}}</a><div>{{digitalCustomsInvoice.document.fileSize}}</div></div><div class=\"col-2 a-right\"><a class=\"dhlicon-cancel btn-icon btn-icon_delete right\" ng-click=dciCtrl.deleteCustomsInvoice() nls=shipment.digital_customs_invoice_upload_form_delete_button_label></a></div></div></li></ul><div class=\"alert alert_error\" ng-repeat=\"error in dciCtrl.customsInvoiceUploadErrors\"><span nls={{error}}></span></div><ul class=file-list ng-if=fileUploaderCtrl.canShowFileList()><li class=file-list__item ng-repeat=\"file in fileUploaderCtrl.getFilesList()\">{{file.name}}</li></ul><div class=field-wrapper ng-hide=\"fileUploaderCtrl.canShowFileList() || digitalCustomsInvoice.document\"><label class=\"btn btn_upload\"><input type=file accept=image/jpeg,image/gif,image/png,image/tiff,image/x-tiff,application/pdf> <span><i class=dhlicon-add></i> <span nls=shipment.digital_customs_invoice_upload_form_attach_invoice_button_label></span></span></label> <span class=note nls=shipment.digital_customs_invoice_upload_form_max_upload_size_label></span></div><div ng-if=digitalCustomsInvoice.document><button class=btn type=button ng-click=dciCtrl.deleteCustomsInvoice() nls=shipment.digital_customs_invoice_upload_form_replace_invoice_button_label></button></div><ewf-progress-bar ng-if=fileUploaderCtrl.uploadStarted ewf-progress=fileUploaderCtrl.uploadProgress></ewf-progress-bar><div ng-if=fileUploaderCtrl.canShowFileList()><button class=\"btn btn_action btn_regular\" type=button ng-click=dciCtrl.clearCustomsInvoiceUploadErrors(fileUploaderCtrl.clearFilesList) nls=shipment.digital_customs_invoice_upload_form_cancel_button_label></button> <button class=\"btn btn_success btn_regular\" type=button ng-click=dciCtrl.clearCustomsInvoiceUploadErrors(fileUploaderCtrl.uploadFiles) nls=shipment.digital_customs_invoice_upload_form_upload_button_label></button></div></div></form></div><div class=\"row margin-top-small\"><label class=checkbox><input type=checkbox class=checkbox__input ng-model=dciCtrl.additionalInfo> <span class=label nls=shipment.digital_customs_invoice_upload_form_optional_value_label><strong nls=shipment.digital_customs_invoice_upload_form_optional_label></strong></span></label><div class=row ng-if=dciCtrl.additionalInfo><p nls=shipment.digital_customs_invoice_upload_form_other_info_file_types_label></p><form name=additionalDocument enctype=multipart/form-data method=POST ng-attr-action={{dciCtrl.getFormAction()}}><div class=file-uploader ewf-file-uploader files-uploaded=\"dciCtrl.handleAdditionalDocumentsUploadSuccess(documents, fileUploaderCtrl.clearFilesList)\" files-upload-error=dciCtrl.handleAdditionalDocumentsUploadError(errors) multi-file-mode><ul class=\"file-list file-list_downloaded\" ng-if=digitalCustomsInvoice.additionalDocuments.length><li class=file-list__item ng-repeat=\"file in digitalCustomsInvoice.additionalDocuments track by file.key\"><div class=row><div class=col-10><a target=_blank ng-href=/api/file/{{file.key}}>{{file.fileName}}</a><div>{{file.fileSize}}</div></div><div class=\"col-2 a-right\"><a class=\"dhlicon-cancel btn-icon btn-icon_delete right\" ng-click=dciCtrl.deleteAdditionalDocument($index) nls=shipment.digital_customs_invoice_upload_form_delete_button_label></a></div></div></li></ul><div class=\"alert alert_error\" ng-repeat=\"error in dciCtrl.additionalDocumentsUploadErrors\"><span nls={{error}}></span></div><ul class=file-list ng-if=fileUploaderCtrl.canShowFileList()><li class=file-list__item ng-repeat=\"file in fileUploaderCtrl.getFilesList()\">{{file.name}}</li></ul><div class=field-wrapper ng-hide=fileUploaderCtrl.canShowFileList()><label class=\"btn btn_upload\"><input type=file accept=image/jpeg,image/png,image/tiff,application/pdf multiple> <span nls=shipment.digital_customs_invoice_upload_form_add_additional_info_button_label></span></label> <span class=note nls=shipment.digital_customs_invoice_upload_form_max_upload_size_label></span></div><ewf-progress-bar ng-if=fileUploaderCtrl.uploadStarted ewf-progress=fileUploaderCtrl.uploadProgress></ewf-progress-bar><div ng-if=fileUploaderCtrl.canShowFileList()><button class=\"btn btn_action btn_regular\" type=button ng-click=dciCtrl.clearAdditionalDocumentsUploadErrors(fileUploaderCtrl.clearFilesList) nls=shipment.digital_customs_invoice_upload_form_cancel_button_label></button> <button class=\"btn btn_success btn_regular\" type=button ng-click=dciCtrl.clearAdditionalDocumentsUploadErrors(fileUploaderCtrl.uploadFiles) nls=shipment.digital_customs_invoice_upload_form_upload_button_label></button></div></div></form></div></div></div></div></div></div></div>',
            controller: _DigitalCustomsInvoiceController['default'],
            controllerAs: 'dciCtrl',
            scope: {
                digitalCustomsInvoice: '=',
                ownCustomsInvoice: '=',
                countryCode: '='
            }
        };
    }
});
//# sourceMappingURL=digital-customs-invoice-directive.js.map
