{"version":3,"sources":["components/shipment/shipment-toolbar/shipment-toolbar-controller.js"],"names":[],"mappings":";;;qBAcwB,yBAAyB;;AATjD,6BAAyB,CAAC,OAAO,GAAG,CAChC,QAAQ,EACR,mBAAmB,EACnB,iBAAiB,EACjB,qBAAqB,EACrB,cAAc,EACd,sBAAsB,CACzB,CAAC;;AAEa,aAAS,yBAAyB,CAAC,MAAM,EACN,iBAAiB,EACjB,eAAe,EACf,mBAAmB,EACnB,YAAY,EACZ,oBAAoB,EAAE;AACpE,YAAM,EAAE,GAAG,IAAI,CAAC;AAChB,YAAI,KAAK,GAAG,IAAI,CAAC;;AAEjB,cAAM,CAAC,MAAM,CAAC,EAAE,EAAE;AACd,kCAAsB,EAAtB,sBAAsB;AACtB,gCAAoB,EAApB,oBAAoB;AACpB,wCAA4B,EAA5B,4BAA4B;;AAE5B,wBAAY,EAAE,IAAI;SACrB,CAAC,CAAC;;AAEH,iBAAS,sBAAsB,GAAG;AAC9B,iBAAK,GAAG,YAAY,CAAC,UAAU,CAAC;AAC5B,wBAAQ,EAAC,upBAAupB;AAChqB,qBAAK,EAAE,MAAM;aAChB,CAAC,CAAC;SACN;;AAED,iBAAS,oBAAoB,GAAG;AAC5B,+BAAmB,CAAC,sBAAsB,EAAE,CAAC;AAC7C,2BAAe,CAAC,oBAAoB,CAAC,EAAE,CAAC,YAAY,CAAC,CAChD,IAAI,CAAC,YAAM;AACR,qBAAK,CAAC,KAAK,EAAE,CAAC;AACd,iCAAiB,CAAC,QAAQ,CAAC,uBAAuB,CAAC,CAAC;aACvD,CAAC,SACI,CAAC,UAAC,MAAM,EAAK;AACf,kBAAE,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;aAC7B,CAAC,CAAC;SACV;;AAED,iBAAS,4BAA4B,CAAC,YAAY,EAAE;AAChD,gCAAoB,CAAC,UAAU,EAAE,CAAC;AAClC,wBAAY,CAAC,yBAAyB,EAAE,CAAC;SAC5C;KACJ","file":"components/shipment/shipment-toolbar/shipment-toolbar-controller.js","sourcesContent":["import './../../../services/modal/modal-service';\r\nimport './../ewf-shipment-service';\r\nimport './../ewf-shipment-flow-service';\r\nimport './../enhanced-invoice/enhanced-invoice-model';\r\n\r\nShipmentToolbarController.$inject = [\r\n    '$scope',\r\n    'navigationService',\r\n    'shipmentService',\r\n    'shipmentFlowService',\r\n    'modalService',\r\n    'enhancedInvoiceModel'\r\n];\r\n\r\nexport default function ShipmentToolbarController($scope,\r\n                                                  navigationService,\r\n                                                  shipmentService,\r\n                                                  shipmentFlowService,\r\n                                                  modalService,\r\n                                                  enhancedInvoiceModel) {\r\n    const vm = this;\r\n    let modal = null;\r\n\r\n    Object.assign(vm, {\r\n        showSaveForLaterDialog,\r\n        saveShipmentForLater,\r\n        cancelEnhancedInvoiceChanges,\r\n\r\n        shipmentName: null\r\n    });\r\n\r\n    function showSaveForLaterDialog() {\r\n        modal = modalService.showDialog({\r\n            template:'<div ewf-modal title=\\\"Would you like to save this shipment?\\\"><div class=section__content><p>Naming your shipment is optional. If you do not name your shipment, a temporary ID will be assigned to it for you. This name will appear in your manage shipment section.</p><div class=\\\"row single-line\\\"><label>Save As:</label> <input type=text class=\\\"input input_width_half\\\" placeholder=RochesterUSA_LondonUK ng-model=toolbarCtrl.shipmentName><div class=msg-error ng-repeat=\\\"error in toolbarCtrl.errors\\\" nls={{error}}></div><button class=\\\"btn btn_success btn_regular\\\" ng-click=toolbarCtrl.saveShipmentForLater()>Save Name or Continue</button></div></div></div>',\r\n            scope: $scope\r\n        });\r\n    }\r\n\r\n    function saveShipmentForLater() {\r\n        shipmentFlowService.getStepsIncompleteData();\r\n        shipmentService.saveShipmentForLater(vm.shipmentName)\r\n            .then(() => {\r\n                modal.close();\r\n                navigationService.location('manage-shipments.html');\r\n            })\r\n            .catch((reason) => {\r\n                vm.errors = reason.errors;\r\n            });\r\n    }\r\n\r\n    function cancelEnhancedInvoiceChanges(shipmentCtrl) {\r\n        enhancedInvoiceModel.resetModel();\r\n        shipmentCtrl.triggerMainFlowVisibility();\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}