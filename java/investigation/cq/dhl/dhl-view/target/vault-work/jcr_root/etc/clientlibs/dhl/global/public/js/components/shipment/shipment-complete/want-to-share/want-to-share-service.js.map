{"version":3,"sources":["components/shipment/shipment-complete/want-to-share/want-to-share-service.js"],"names":[],"mappings":";;;qBAMwB,kBAAkB;;;;;;AAJ1C,qBAAI,OAAO,CAAC,oBAAoB,EAAE,kBAAkB,CAAC,CAAC;;AAEtD,sBAAkB,CAAC,OAAO,GAAG,CAAC,OAAO,EAAE,IAAI,EAAE,YAAY,CAAC,CAAC;;AAE5C,aAAS,kBAAkB,CAAC,KAAK,EAAE,EAAE,EAAE,UAAU,EAAE;;AAE9D,YAAI,CAAC,wBAAwB,GAAG,wBAAwB,CAAC;AACzD,YAAI,CAAC,cAAc,GAAG,cAAc,CAAC;AACrC,YAAI,CAAC,YAAY,GAAG,YAAY,CAAC;;AAEjC,iBAAS,wBAAwB,CAAC,UAAU,EAAE;AAC1C,mBAAO,KAAK,CAAC,GAAG,oBAAkB,UAAU,qBAAkB,CACzD,IAAI,CAAC,UAAC,QAAQ,EAAK;AAChB,uBAAO,QAAQ,CAAC,IAAI,CAAC;aACxB,CAAC,SACI,CAAC,UAAC,GAAG,EAAK;AACZ,0BAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACtB,uBAAO,GAAG,CAAC;aACd,CAAC,CAAC;SACV;;AAED,iBAAS,YAAY,CAAC,UAAU,EAAE,WAAW,EAAE,eAAe,EAAE;AAC5D,gBAAM,WAAW,GAAG,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AAC9C,uBAAW,CAAC,OAAO,GAAG,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;;AAEpD,uBAAW,CAAC,WAAW,GAAG,WAAW,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,UAAC,IAAI;uBAAK,IAAI,CAAC,IAAI,EAAE;aAAA,CAAC,CAAC;;AAExF,mBAAO,KAAK,CAAC,IAAI,oBAAkB,UAAU,aAAU,WAAW,CAAC,CAC9D,IAAI,CAAC,UAAC,QAAQ,EAAK;AAChB,uBAAO,QAAQ,CAAC,IAAI,CAAC;aACxB,CAAC,SACI,CAAC,UAAC,GAAG,EAAK;AACZ,0BAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACtB,uBAAO,GAAG,CAAC;aACd,CAAC,CAAC;SACV;;AAED,iBAAS,cAAc,CAAC,UAAU,EAAE;AAChC,mBAAO,KAAK,CAAC,GAAG,oBAAkB,UAAU,mBAAgB,CACvD,IAAI,CAAC,UAAC,QAAQ,EAAK;AAChB,uBAAO,QAAQ,CAAC,IAAI,CAAC;aACxB,CAAC,SACI,CAAC,UAAC,GAAG,EAAK;AACZ,0BAAU,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACtB,uBAAO,GAAG,CAAC;aACd,CAAC,CAAC;SACV;KAEJ","file":"components/shipment/shipment-complete/want-to-share/want-to-share-service.js","sourcesContent":["import ewf from 'ewf';\r\n\r\newf.service('wantToShareService', wantToShareService);\r\n\r\nwantToShareService.$inject = ['$http', '$q', 'logService'];\r\n\r\nexport default function wantToShareService($http, $q, logService) {\r\n\r\n    this.getShipmentShareDefaults = getShipmentShareDefaults;\r\n    this.getShareFields = getShareFields;\r\n    this.shareDetails = shareDetails;\r\n\r\n    function getShipmentShareDefaults(shipmentId) {\r\n        return $http.get(`/api/shipment/${shipmentId}/share/settings`)\r\n            .then((response) => {\r\n                return response.data;\r\n            })\r\n            .catch((err) => {\r\n                logService.error(err);\r\n                return err;\r\n            });\r\n    }\r\n\r\n    function shareDetails(shipmentId, sharingInfo, sharingDefaults) {\r\n        const shareObject = angular.copy(sharingInfo);\r\n        shareObject.details = angular.copy(sharingDefaults);\r\n\r\n        shareObject.toAddresses = sharingInfo.toAddresses.split(',').map((item) => item.trim());\r\n\r\n        return $http.post(`/api/shipment/${shipmentId}/share`, shareObject)\r\n            .then((response) => {\r\n                return response.data;\r\n            })\r\n            .catch((err) => {\r\n                logService.error(err);\r\n                return err;\r\n            });\r\n    }\r\n\r\n    function getShareFields(shipmentId) {\r\n        return $http.get(`/api/shipment/${shipmentId}/share/fields`)\r\n            .then((response) => {\r\n                return response.data;\r\n            })\r\n            .catch((err) => {\r\n                logService.error(err);\r\n                return err;\r\n            });\r\n    }\r\n\r\n}\r\n"],"sourceRoot":"/source/"}