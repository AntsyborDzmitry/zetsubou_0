{"version":3,"sources":["components/address-book/contact-info/contact-notifications-info/contact-notifications-info-controller.js"],"names":[],"mappings":";;;qBAKwB,qCAAqC;;;;;;AAF7D,yCAAqC,CAAC,OAAO,GAAG,CAAC,QAAQ,EAAE,QAAQ,EAAE,cAAc,EAAE,iBAAiB,CAAC,CAAC;;AAEzF,aAAS,qCAAqC,CAAC,MAAM,EAAE,MAAM,EAAE,YAAY,EAAE,eAAe,EAAE;AACzG,YAAM,EAAE,GAAG,IAAI,CAAC;;AAEhB,YAAM,uBAAuB,GAAG;AAC5B,gBAAI,EAAE,OAAO;AACb,uBAAW,EAAE,EAAE;AACf,oBAAQ,EAAE,IAAI;AACd,8BAAkB,EAAE;AAChB,sBAAM,EAAE,KAAK;AACb,8BAAc,EAAE,KAAK;AACrB,gCAAgB,EAAE,KAAK;AACvB,yBAAS,EAAE,KAAK;AAChB,8BAAc,EAAE,KAAK;AACrB,yBAAS,EAAE,KAAK;aACnB;SACJ,CAAC;;AAED,cAAM,CAAC,MAAM,CAAC,EAAE,EAAE;AACd,sBAAU,EAAE,EAAE;AACd,6BAAiB,EAAE,CAAC,OAAO,EAAE,KAAK,CAAC;AACnC,qBAAS,EAAE,KAAK;AAChB,sBAAU,EAAE,EAAE;;AAEd,2BAAe,EAAf,eAAe;AACf,8BAAkB,EAAlB,kBAAkB;AAClB,6BAAiB,EAAjB,iBAAiB;AACjB,yBAAa,EAAb,aAAa;AACb,gBAAI,EAAJ,IAAI;AACJ,wBAAY,EAAZ,YAAY;AACZ,4BAAgB,EAAhB,gBAAgB;AAChB,4BAAgB,EAAhB,gBAAgB;AAChB,qCAAyB,EAAzB,yBAAyB;SAC5B,CAAC,CAAC;;AAEJ,oBAAY,CAAC,KAAK,CAAC,MAAM,EAAE,MAAM,EAAE,sBAAsB,EAAE,EAAE,CAAC,UAAU,CAAC,CAAC;;AAE1E,iBAAS,IAAI,GAAG;AACZ,yBAAa,EAAE,CAAC;SACnB;;AAED,iBAAS,eAAe,GAAG;AACvB,cAAE,CAAC,UAAU,CAAC,oBAAoB,CAAC,IAAI,CAAC,qBAAQ,IAAI,CAAC,uBAAuB,CAAC,CAAC,CAAC;SAClF;;AAED,iBAAS,kBAAkB,CAAC,iBAAiB,EAAE;AAC3C,gBAAM,KAAK,GAAG,EAAE,CAAC,UAAU,CAAC,oBAAoB,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;AAC5E,cAAE,CAAC,UAAU,CAAC,oBAAoB,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC;SACvD;;AAED,iBAAS,iBAAiB,CAAC,YAAY,EAAE,cAAc,EAAE;AACrD,cAAE,CAAC,UAAU,CAAC,oBAAoB,CAAC,cAAc,CAAC,CAAC,gBAAgB,GAAG,YAAY,CAAC,SAAS,CAAC;SAChG;;AAED,iBAAS,aAAa,GAAG;AACrB,2BAAe,CAAC,sBAAsB,EAAE,CACnC,IAAI,CAAC,UAAC,IAAI,EAAK;AACZ,kBAAE,CAAC,UAAU,CAAC,YAAY,GAAG,IAAI,CAAC;aACrC,CAAC,CAAC;SACV;;AAED,iBAAS,YAAY,GAAG;AACpB,cAAE,CAAC,SAAS,GAAG,CAAC,EAAE,CAAC,SAAS,CAAC;SAChC;;AAED,iBAAS,gBAAgB,CAAC,WAAW,EAAE;AACnC,cAAE,CAAC,UAAU,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE,CAAC,UAAU,CAAC,WAAW,CAAC,CAAC;SAC5D;;AAED,iBAAS,gBAAgB,CAAC,YAAY,EAAE;AACpC,wBAAY,CAAC,WAAW,GAAG,EAAE,CAAC;SACjC;;AAED,iBAAS,yBAAyB,CAAC,4BAA4B,EAAE;AAC7D,gBAAI,4BAA4B,IAAI,4BAA4B,CAAC,MAAM,EAAE;AACrE,oBAAM,yBAAyB,GAAG,EAAE,CAAC,UAAU,CAAC,oBAAoB,CAAC,KAAK,CAAC,UAAC,YAAY,EAAK;AACzF,wBAAI,YAAY,CAAC,IAAI,KAAK,OAAO,EAAE;AAC/B,+BAAO,YAAY,CAAC,WAAW,KAAK,EAAE,CAAC;qBAC1C;;AAED,wBAAI,YAAY,CAAC,IAAI,KAAK,KAAK,EAAE;AAC7B,+BAAO,YAAY,CAAC,WAAW,KAAK,EAAE,IAAI,YAAY,CAAC,gBAAgB,KAAK,EAAE,CAAC;qBAClF;;AAED,2BAAO,KAAK,CAAC;iBAChB,CAAC,CAAC;AACH,uBAAO,yBAAyB,CAAC;aACpC;AACD,mBAAO,KAAK,CAAC;SAChB;KACJ","file":"components/address-book/contact-info/contact-notifications-info/contact-notifications-info-controller.js","sourcesContent":["import angular from 'angular';\r\nimport './../../../../services/location-service';\r\n\r\nEwfContactNotificationsInfoController.$inject = ['$scope', '$attrs', 'attrsService', 'locationService'];\r\n\r\nexport default function EwfContactNotificationsInfoController($scope, $attrs, attrsService, locationService) {\r\n    const vm = this;\r\n\r\n    const initNotificationSetting = {\r\n        type: 'EMAIL',\r\n        destination: '',\r\n        language: 'en',\r\n        notificationEvents: {\r\n            pickup: false,\r\n            clearanceDelay: false,\r\n            customsClearance: false,\r\n            exception: false,\r\n            outForDelivery: false,\r\n            delivered: false\r\n        }\r\n    };\r\n\r\n     Object.assign(vm, {\r\n         attributes: {},\r\n         notificationTypes: ['EMAIL', 'SMS'],\r\n         isEditing: false,\r\n         helpActive: {},\r\n\r\n         addRepeaterItem,\r\n         removeRepeaterItem,\r\n         phoneCodeSelected,\r\n         getPhoneCodes,\r\n         init,\r\n         toggleLayout,\r\n         toggleHelpActive,\r\n         clearDestination,\r\n         canAddContactNotification\r\n     });\r\n\r\n    attrsService.track($scope, $attrs, 'notificationSettings', vm.attributes);\r\n\r\n    function init() {\r\n        getPhoneCodes();\r\n    }\r\n\r\n    function addRepeaterItem() {\r\n        vm.attributes.notificationSettings.push(angular.copy(initNotificationSetting));\r\n    }\r\n\r\n    function removeRepeaterItem(notificationIndex) {\r\n        const index = vm.attributes.notificationSettings.indexOf(notificationIndex);\r\n        vm.attributes.notificationSettings.splice(index, 1);\r\n    }\r\n\r\n    function phoneCodeSelected(selectedItem, indexOfelement) {\r\n        vm.attributes.notificationSettings[indexOfelement].phoneCountryCode = selectedItem.phoneCode;\r\n    }\r\n\r\n    function getPhoneCodes() {\r\n        locationService.loadAvailableLocations()\r\n            .then((data) => {\r\n                vm.attributes.countryCodes = data;\r\n            });\r\n    }\r\n\r\n    function toggleLayout() {\r\n        vm.isEditing = !vm.isEditing;\r\n    }\r\n\r\n    function toggleHelpActive(sliderIndex) {\r\n        vm.helpActive[sliderIndex] = !vm.helpActive[sliderIndex];\r\n    }\r\n\r\n    function clearDestination(notification) {\r\n        notification.destination = '';\r\n    }\r\n\r\n    function canAddContactNotification(contactNotificationsInfoForm) {\r\n        if (contactNotificationsInfoForm && contactNotificationsInfoForm.$valid) {\r\n            const isEveryNotificationFilled = vm.attributes.notificationSettings.every((notification) => {\r\n                if (notification.type === 'EMAIL') {\r\n                    return notification.destination !== '';\r\n                }\r\n\r\n                if (notification.type === 'SMS') {\r\n                    return notification.destination !== '' && notification.phoneCountryCode !== '';\r\n                }\r\n\r\n                return false;\r\n            });\r\n            return isEveryNotificationFilled;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}