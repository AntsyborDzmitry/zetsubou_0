{"version":3,"sources":["components/profile-settings/profile-quick-links/profile-edit-quick-link-dialog-controller.js"],"names":[],"mappings":";;;qBAmBwB,oCAAoC;;;;;;AAZ5D,wCAAoC,CAAC,OAAO,GAAG,CAAC,IAAI,EAAE,YAAY,EAAE,cAAc,CAAC,CAAC;;AAEpF,qBAAI,UAAU,CAAC,sCAAsC,EAAE,oCAAoC,CAAC,CAAC;;;;;;;;;;;AAU9E,aAAS,oCAAoC,CAAC,EAAE,EAAE,UAAU,EAAE,YAAY,EAAE;AACvF,YAAM,EAAE,GAAG,IAAI,CAAC;AAChB,kBAAU,CAAC,8BAA8B,GAAG,EAAE,CAAC;;AAE/C,UAAE,CAAC,WAAW,GAAG,2FAA2F,CAAC;AAC7G,UAAE,CAAC,cAAc,GAAG,cAAc,CAAC;AACnC,UAAE,CAAC,aAAa,GAAG,aAAa,CAAC;AACjC,UAAE,CAAC,YAAY,GAAG,YAAY,CAAC;;AAE/B,iBAAS,cAAc,CAAC,IAAI,EAAE,GAAG,EAAE;AAC/B,cAAE,CAAC,QAAQ,GAAG,IAAI,CAAC;AACnB,cAAE,CAAC,GAAG,GAAG,GAAG,CAAC;AACb,gBAAI,aAAa,GAAG,EAAE,CAAC,KAAK,EAAE,CAAC;AAC/B,wBAAY,CAAC,UAAU,CAAC;AACpB,0BAAU,EAAE,IAAI;AAChB,qBAAK,EAAE,UAAU;AACjB,2BAAW,EAAE,wBAAwB;AACrC,wBAAQ,EAAC,wjDAAwjD;aACpkD,CAAC,CAAC;;AAEH,gBAAI,EAAE,CAAC,aAAa,EAAE;AAClB,kBAAE,CAAC,aAAa,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;aAC9C;;AAED,cAAE,CAAC,aAAa,GAAG,aAAa,CAAC;AACjC,mBAAO,aAAa,CAAC,OAAO,CAAC;SAChC;;AAED,iBAAS,aAAa,GAAG;AACrB,cAAE,CAAC,aAAa,CAAC,OAAO,CAAC,EAAC,IAAI,EAAE,EAAE,CAAC,QAAQ,EAAE,GAAG,EAAE,EAAE,CAAC,GAAG,EAAC,CAAC,CAAC;AAC3D,mBAAO,IAAI,CAAC;SACf;;AAED,iBAAS,YAAY,GAAG;AACpB,cAAE,CAAC,aAAa,CAAC,MAAM,CAAC,sBAAsB,CAAC,CAAC;AAChD,mBAAO,IAAI,CAAC;SACf;KACJ","file":"components/profile-settings/profile-quick-links/profile-edit-quick-link-dialog-controller.js","sourcesContent":["import ewf from 'ewf';\r\nimport './../../../directives/ewf-form/ewf-form-directive';\r\nimport './../../../directives/ewf-field/ewf-field-directive';\r\nimport './../../../directives/ewf-validate/ewf-validate-pattern-directive';\r\nimport './../../../directives/ewf-validate/ewf-validate-required-directive';\r\nimport './../../../services/modal/modal-service';\r\n\r\nProfileEditQuickLinkDialogController.$inject = ['$q', '$rootScope', 'modalService'];\r\n\r\newf.controller('ProfileEditQuickLinkDialogController', ProfileEditQuickLinkDialogController);\r\n\r\n/**\r\n * Confirmation dialog controller\r\n *\r\n * @param $q\r\n * @param $rootScope\r\n * @param modalService\r\n * @return defered object\r\n */\r\nexport default function ProfileEditQuickLinkDialogController($q, $rootScope, modalService) {\r\n    const vm = this;\r\n    $rootScope.profileEditQuickLinkDialogCtrl = vm;\r\n\r\n    vm.linkPattern = '^(http|https):\\\\/\\\\/(\\\\w+:{0,1}\\\\w*@)?(\\\\S+)(:[0-9]+)?(\\\\/|\\\\/([\\\\w#!:.?+=&%@!\\\\-\\\\/]))?$';\r\n    vm.showSaveDialog = showSaveDialog;\r\n    vm.confirmAction = confirmAction;\r\n    vm.rejectAction = rejectAction;\r\n\r\n    function showSaveDialog(name, url) {\r\n        vm.linkName = name;\r\n        vm.url = url;\r\n        let deferedAction = $q.defer();\r\n        modalService.showDialog({\r\n            closeOnEsc: true,\r\n            scope: $rootScope,\r\n            windowClass: 'ngdialog-theme-default',\r\n            template:'<script>\\r\\n    document.createElement(\\'ewf-form\\');\\r\\n    document.createElement(\\'ewf-field\\');\\r\\n    dhl.registerComponent(\\'directives/ewf-form/ewf-form-directive\\');\\r\\n    dhl.registerComponent(\\'directives/ewf-input/ewf-input-controller\\');\\r\\n    dhl.registerComponent(\\'directives/ewf-validate/ewf-validate-pattern-directive\\');\\r\\n    dhl.registerComponent(\\'directives/ewf-validate/ewf-validate-required-directive\\');\\r\\n\\r\\n</script><div ewf-modal class=\\\"modal visible modal-edit-link\\\" id=modal_editLink><form ewf-form=editLink name=editLink><h3>Edit Quick Link</h3><div class=field-wrapper ewf-field=linkName><label for=link_name class=label>Name</label> <input type=text class=\\\"input modal-edit-link__text-input\\\" id=link_name ng-model=profileEditQuickLinkDialogCtrl.linkName ewf-input=editLink.linkName ewf-validate-required> <span class=validation-mark></span><div ewf-field-errors></div></div><div class=field-wrapper ewf-field=linkUrl><label for=link_url class=label>URL</label> <input type=text class=\\\"input modal-edit-link__text-input\\\" id=link_url ng-model=profileEditQuickLinkDialogCtrl.url ewf-input=editLink.linkUrl ewf-validate-required ewf-validate-pattern={{profileEditQuickLinkDialogCtrl.linkPattern}} ewf-validate-pattern-message=my-profile.error_pattern_quick_link> <span class=validation-mark></span><div ewf-field-errors></div></div><div class=\\\"row a-right modal-edit-link__btn-save\\\"><button type=submit ng-click=\\\"editLink.$valid && profileEditQuickLinkDialogCtrl.confirmAction() && ewfModalCtrl.close()\\\" class=btn>Save</button></div></form></div>'\r\n        });\r\n\r\n        if (vm.deferedAction) {\r\n            vm.deferedAction.reject('obsolete action');\r\n        }\r\n\r\n        vm.deferedAction = deferedAction;\r\n        return deferedAction.promise;\r\n    }\r\n\r\n    function confirmAction() {\r\n        vm.deferedAction.resolve({name: vm.linkName, url: vm.url});\r\n        return true;\r\n    }\r\n\r\n    function rejectAction() {\r\n        vm.deferedAction.reject('User rejected action');\r\n        return true;\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}