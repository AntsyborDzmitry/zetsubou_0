{"version":3,"sources":["components/login/login-service.js"],"names":[],"mappings":";;;qBAMwB,YAAY;;;;;;AAJpC,qBAAI,OAAO,CAAC,cAAc,EAAE,YAAY,CAAC,CAAC;;AAE1C,gBAAY,CAAC,OAAO,GAAG,CAAC,qBAAqB,CAAC,CAAC;;AAEhC,aAAS,YAAY,CAAC,mBAAmB,EAAE;AACtD,YAAM,uBAAuB,GAAG,uBAAuB,CAAC;AACxD,YAAM,wBAAwB,GAAG,CAAC,CAAC;;AAEnC,YAAI,CAAC,MAAM,GAAG;AACV,mBAAO,EAAE,0BAA0B;AACnC,sBAAU,EAAE,6BAA6B;AACzC,6BAAiB,EAAE,oCAAoC;AACvD,iCAAqB,EAAE,6BAA6B;AACpD,oCAAwB,EAAE,gCAAgC;SAC7D,CAAC;;AAEF,YAAI,CAAC,SAAS,GAAG;AACb,4BAAgB,EAAE,wBAAwB;AAC1C,8BAAkB,EAAE,0BAA0B;AAC9C,sCAA0B,EAAE,kCAAkC;SACjE,CAAC;;AAEF,YAAI,CAAC,iBAAiB,GAAG,UAAS,KAAK,EAAE;AACrC,+BAAmB,CAAC,GAAG,CAAC,uBAAuB,EAAE,KAAK,CAAC,CAAC;SAC3D,CAAC;;AAEF,YAAI,CAAC,gBAAgB,GAAG,YAAW;AAC/B,gBAAM,KAAK,GAAG,mBAAmB,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAC;AAC/D,+BAAmB,CAAC,MAAM,CAAC,uBAAuB,CAAC,CAAC;AACpD,mBAAO,KAAK,CAAC;SAChB,CAAC;;AAEF,YAAI,CAAC,gBAAgB,GAAG,YAAW;AAC/B,mBAAO,IAAI,CAAC,gBAAgB,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;SACzD,CAAC;;AAEF,YAAI,CAAC,iBAAiB,GAAG,UAAS,MAAM,EAAE;AACtC,mBAAO,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;SAC3D,CAAC;;AAEF,YAAI,CAAC,cAAc,GAAG,UAAS,MAAM,EAAE;AACnC,mBAAO,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAAC,CAAC;SAC7D,CAAC;;AAEF,YAAI,CAAC,kCAAkC,GAAG,UAAS,MAAM,EAAE;AACvD,mBAAO,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,0BAA0B,CAAC,CAAC;SACrE,CAAC;;AAEF,YAAI,CAAC,2BAA2B,GAAG;mBAAM,wBAAwB;SAAA,CAAC;KACrE","file":"components/login/login-service.js","sourcesContent":["import ewf from 'ewf';\r\n\r\newf.service('loginService', loginService);\r\n\r\nloginService.$inject = ['localStorageService'];\r\n\r\nexport default function loginService(localStorageService) {\r\n    const nextFormTitleStorageKey = 'login.next_form_title';\r\n    const loginActivationDaysLimit = 3;\r\n\r\n    this.titles = {\r\n        DEFAULT: 'login.form_title_default',\r\n        LOGGED_OUT: 'login.form_title_logged_out',\r\n        SESSION_TIMED_OUT: 'login.form_title_session_timed_out',\r\n        ACTIVATION_EMAIL_SENT: 'login.activation_email_sent',\r\n        ACTIVATION_EMAIL_EXPIRED: 'login.activation_email_expired'\r\n    };\r\n\r\n    this.errorKeys = {\r\n        PASSWORD_EXPIRED: 'login.password_expired',\r\n        PENDING_ACTIVATION: 'login.pending_activation',\r\n        PENDING_ACTIVATION_EXPIRED: 'login.pending_activation_expired'\r\n    };\r\n\r\n    this.saveNextFormTitle = function(title) {\r\n        localStorageService.set(nextFormTitleStorageKey, title);\r\n    };\r\n\r\n    this.getNextFormTitle = function() {\r\n        const title = localStorageService.get(nextFormTitleStorageKey);\r\n        localStorageService.remove(nextFormTitleStorageKey);\r\n        return title;\r\n    };\r\n\r\n    this.resolveFormTitle = function() {\r\n        return this.getNextFormTitle() || this.titles.DEFAULT;\r\n    };\r\n\r\n    this.isPasswordExpired = function(errors) {\r\n        return errors.includes(this.errorKeys.PASSWORD_EXPIRED);\r\n    };\r\n\r\n    this.isUserInactive = function(errors) {\r\n        return errors.includes(this.errorKeys.PENDING_ACTIVATION);\r\n    };\r\n\r\n    this.isUserInactiveAndActivationExpired = function(errors) {\r\n        return errors.includes(this.errorKeys.PENDING_ACTIVATION_EXPIRED);\r\n    };\r\n\r\n    this.getLoginActivationDaysLimit = () => loginActivationDaysLimit; //TODO: replace hardcoded value to real BE call\r\n}\r\n"],"sourceRoot":"/source/"}