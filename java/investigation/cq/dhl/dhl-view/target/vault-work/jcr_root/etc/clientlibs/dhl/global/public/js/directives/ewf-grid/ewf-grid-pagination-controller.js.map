{"version":3,"sources":["directives/ewf-grid/ewf-grid-pagination-controller.js"],"names":[],"mappings":"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","file":"directives/ewf-grid/ewf-grid-pagination-controller.js","sourcesContent":["import './../../services/pagination-service';\r\n\r\nEwfGridPaginationController.$inject = [\r\n    '$scope',\r\n    '$attrs',\r\n    'attrsService',\r\n    'paginationService'\r\n];\r\n\r\nexport default function EwfGridPaginationController(\r\n    $scope,\r\n    $attrs,\r\n    attrsService,\r\n    paginationService\r\n) {\r\n    const vm = this;\r\n\r\n    Object.assign(vm, {\r\n        attributes: {\r\n            paginationSettings: {\r\n                data: [],\r\n                window: [],\r\n                rowMin: 0, rowMax: 0,\r\n                pageSize: 10, pageIndex: 0, pageCount: 0\r\n            }\r\n        },\r\n        pages: [10, 25, 50, 100],\r\n\r\n        moveToPage,\r\n        moveToPageIfExists\r\n\r\n    });\r\n\r\n    attrsService.track($scope, $attrs, 'gridData', vm.attributes);\r\n    attrsService.track($scope, $attrs, 'paginationSettings', vm.attributes);\r\n    attrsService.track($scope, $attrs, 'hidePageRange', vm.attributes);\r\n    attrsService.track($scope, $attrs, 'hidePaginationSpan', vm.attributes);\r\n    attrsService.track($scope, $attrs, 'paginationSize', vm.attributes, () => {\r\n        if (vm.attributes.paginationSize) {\r\n            vm.attributes.paginationSettings.pageSize = vm.attributes.paginationSize;\r\n        }\r\n    });\r\n\r\n    function moveToPage(pageIndex) {\r\n        vm.attributes.paginationSettings.pageSize = +vm.attributes.paginationSettings.pageSize;\r\n        vm.attributes.paginationSettings = paginationService.paginate(\r\n            vm.attributes.gridData,\r\n            pageIndex,\r\n            vm.attributes.paginationSettings.pageSize\r\n        );\r\n        attrsService.trigger($scope, $attrs, 'onPaginationUpdate', {pagination: vm.attributes.paginationSettings});\r\n        return vm.attributes.paginationSettings;\r\n    }\r\n\r\n    function moveToPageIfExists(pageIndex) {\r\n        if (pageIndex !== undefined && pageIndex !== null && pageIndex >= 0\r\n               && vm.attributes.paginationSettings.pageCount > pageIndex) {\r\n            moveToPage(pageIndex);\r\n        } else if (pageIndex < 0) {\r\n            vm.attributes.paginationSettings.pageIndex = 0;\r\n        } else if (vm.attributes.paginationSettings.pageCount < vm.attributes.paginationSettings.pageIndex + 1) {\r\n            vm.attributes.paginationSettings.pageIndex = vm.attributes.paginationSettings.pageCount;\r\n        }\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}