{"version":3,"sources":["components/register/form/directives/ewf-type-ahead-directive.js"],"names":[],"mappings":";;;;;;;AAGA,qBAAI,SAAS,CAAC,iBAAiB,EAAE,eAAe,CAAC,CAAC;;AAElD,mBAAe,CAAC,OAAO,GAAG,CAAC,cAAc,EAAE,kBAAkB,CAAC,CAAC;;AAE/D,aAAS,eAAe,CAAC,YAAY,EAAE,gBAAgB,EAAE;AACrD,eAAO;AACH,oBAAQ,EAAE,GAAG;AACb,mBAAO,EAAE,SAAS;AAClB,gBAAI,EAAE,cAAC,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI;uBAAK,QAAQ,CAAC,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,YAAY,EAAE,gBAAgB,CAAC;aAAA;SAC/G,CAAC;KACL;;AAED,aAAS,QAAQ,CAAC,KAAK,EAAE,OAAO,EAAE,KAAK,EAAE,IAAI,EAAE,YAAY,EAAE,gBAAgB,EAAE;;AAE3E,YAAI,kBAAkB,GAAG,CAAC,CAAC,CAAC;;AAE5B,aAAK,CAAC,MAAM,CAAC,OAAO,EAAE,UAAC,GAAG,EAAK;;AAE3B,gBAAI,CAAC,kBAAkB,EAAE;AACrB,oBAAM,SAAS,GAAG,gBAAgB,CAAC,cAAc,EAAE,CAAC;AACpD,qBAAK,CAAC,aAAa,GAAG,YAAY,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;aACtD,MAAM;AACH,qBAAK,CAAC,aAAa,GAAG,EAAE,CAAC;aAC5B;;AAED,8BAAkB,GAAG,KAAK,CAAC;SAC9B,CAAC,CAAC;;AAEH,aAAK,CAAC,SAAS,GAAG,UAAC,KAAK,EAAK;AACzB,iBAAK,CAAC,KAAK,GAAG,KAAK,CAAC,QAAQ,CAAC;AAC7B,8BAAkB,GAAG,IAAI,CAAC;SAC7B,CAAC;KACL","file":"components/register/form/directives/ewf-type-ahead-directive.js","sourcesContent":["import ewf from 'ewf';\r\nimport '../services/type-ahead-service';\r\n\r\newf.directive('ewfAutocomplete', EwfAutocomplete);\r\n\r\nEwfAutocomplete.$inject = ['filterFilter', 'typeAheadService'];\r\n\r\nfunction EwfAutocomplete(filterFilter, typeAheadService) {\r\n    return {\r\n        restrict: 'A',\r\n        require: 'ngModel',\r\n        link: (scope, element, attrs, ctrl) => postLink(scope, element, attrs, ctrl, filterFilter, typeAheadService)\r\n    };\r\n}\r\n\r\nfunction postLink(scope, element, attrs, ctrl, filterFilter, typeAheadService) {\r\n\r\n    let selectionConfirmed = -1;\r\n\r\n    scope.$watch('query', (val) => {\r\n\r\n        if (!selectionConfirmed) {\r\n            const addresses = typeAheadService.getAddressList();\r\n            scope.locationsList = filterFilter(addresses, val);\r\n        } else {\r\n            scope.locationsList = {};\r\n        }\r\n\r\n        selectionConfirmed = false;\r\n    });\r\n\r\n    scope.addrClick = (elmnt) => {\r\n        scope.query = elmnt.fullAddr;\r\n        selectionConfirmed = true;\r\n    };\r\n}\r\n"],"sourceRoot":"/source/"}