{"version":3,"sources":["directives/ewf-grid/ewf-grid-controller.js"],"names":[],"mappings":"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","file":"directives/ewf-grid/ewf-grid-controller.js","sourcesContent":["import './../../services/ewf-crud-service';\r\nimport './../../services/pagination-service';\r\nimport './../../services/modal/modal-service';\r\nimport './../../services/nls-service';\r\nimport angular from 'angular';\r\n\r\n\r\nEwfGridController.$inject = [\r\n    '$scope',\r\n    '$attrs',\r\n    '$timeout',\r\n    '$q',\r\n    'nlsService',\r\n    'ewfCrudService',\r\n    'attrsService',\r\n    'paginationService',\r\n    'modalService',\r\n    'logService'\r\n];\r\n\r\nexport default function EwfGridController(\r\n    $scope,\r\n    $attrs,\r\n    $timeout,\r\n    $q,\r\n    nlsService,\r\n    ewfCrudService,\r\n    attrsService,\r\n    paginationService,\r\n    modalService,\r\n    logService) {\r\n    const vm = this;\r\n\r\n    vm.pages = [10, 25, 50, 100];\r\n\r\n    let modalWindow = false;\r\n    const onSortCallback = attrsService.trigger($scope, $attrs, 'onSort');\r\n\r\n    vm.onSelectionHandlerSet = $attrs.onSelection !== undefined;\r\n    vm.attributes = {};\r\n    vm.selectedColumns = {};\r\n\r\n    vm.showActions = false;\r\n\r\n    vm.selectAll = false;\r\n\r\n    vm.firstPage = 0;\r\n\r\n    vm.pagination = {\r\n        data: [],\r\n        window: [],\r\n        rowMin: 0, rowMax: 0,\r\n        pageSize: 10, pageIndex: 0, pageCount: 0\r\n    };\r\n\r\n    vm.actionNotificationTypes = {\r\n        created: false,\r\n        updated: false,\r\n        deleted: false,\r\n        rejected: false\r\n    };\r\n    vm.gridInit = gridInit;\r\n    vm.getSelectedKeysOnCurrentPage = getSelectedKeysOnCurrentPage;\r\n    vm.getSelectedKeysOnAllPages = getSelectedKeysOnAllPages;\r\n    vm.getSortOrderCssClasses = getSortOrderCssClasses;\r\n    vm.sortedMoveToPage = sortedMoveToPage;\r\n    vm.moveToPage = moveToPage;\r\n    vm.setSortOrder = setSortOrder;\r\n    vm.setPageSelection = setPageSelection;\r\n    vm.deleteElements = deleteElements;\r\n    vm.handleSearch = handleSearch;\r\n    vm.triggerEvent = triggerEvent;\r\n    vm.toggleSortOrder = toggleSortOrder;\r\n    vm.addElement = addElement;\r\n    vm.updateElement = updateElement;\r\n    vm.getElement = getElement;\r\n    vm.changeMarkersToFalse = changeMarkersToFalse;\r\n    vm.showActionsToFalse = showActionsToFalse;\r\n    vm.showActionsInvert = showActionsInvert;\r\n    vm.bulkDeleteElements = bulkDeleteElements;\r\n    vm.moveToPageIfExists = moveToPageIfExists;\r\n    vm.rebuildGrid = rebuildGrid;\r\n    vm.broadcastActionReport = broadcastActionReport;\r\n    vm.updateVisibleColumns = updateVisibleColumns;\r\n    vm.showColumnCustomizationDialog = showColumnCustomizationDialog;\r\n    vm.hideColumnCustomizationDialog = hideColumnCustomizationDialog;\r\n    vm.isCurrentPage = isCurrentPage;\r\n    vm.updatePagination = updatePagination;\r\n    vm.deleteParamName = $attrs.deleteParam;\r\n\r\n    attrsService.track($scope, $attrs, 'gridData', vm.attributes);\r\n    attrsService.track($scope, $attrs, 'pagination', vm.attributes);\r\n    attrsService.track($scope, $attrs, 'visibleColumns', vm.attributes);\r\n    attrsService.track($scope, $attrs, 'availableColumns', vm.attributes);\r\n    attrsService.track($scope, $attrs, 'isPopup', vm.attributes);\r\n    attrsService.track($scope, $attrs, 'listUrl', vm);\r\n    attrsService.track($scope, $attrs, 'showCustomizationButton', vm);\r\n    attrsService.track($scope, $attrs, 'disableSorting', vm.attributes);\r\n    attrsService.track($scope, $attrs, 'sortColumn', vm.attributes);\r\n    attrsService.track($scope, $attrs, 'paginationSize', vm.attributes, () => {\r\n        if (vm.attributes.paginationSize) {\r\n            vm.pagination.pageSize = vm.attributes.paginationSize;\r\n        }\r\n    });\r\n\r\n    vm.sort = {\r\n        column: vm.attributes.sortColumn,\r\n        direction: 'ascending'\r\n    };\r\n\r\n    vm.simpleFirstColumn = $attrs.simpleFirstColumn;\r\n    vm.isPopup = vm.attributes.isPopup;\r\n    vm.updateUrl = $attrs.updateUrl;\r\n    vm.addUrl = $attrs.addUrl;\r\n    vm.deleteUrl = $attrs.deleteUrl;\r\n    vm.getElementUrl = $attrs.getUrl;\r\n    vm.useTrustedHtml = $attrs.useTrustedHtml;\r\n\r\n    vm.ctrlToNotify = undefined;\r\n\r\n    function gridInit() {\r\n        rebuildGrid();\r\n    }\r\n\r\n    function rebuildGrid(data) {\r\n        if (data) {\r\n            vm.attributes.gridData = data;\r\n        }\r\n\r\n        if (angular.isUndefined(vm.attributes.gridData) && angular.isUndefined(vm.listUrl)) {\r\n            return logService.error('Wrong configuration of ewf-grid, either gridData or listUrl should be defined');\r\n        }\r\n\r\n        let needServerData = (!vm.attributes.gridData || !vm.attributes.gridData.length) && vm.listUrl;\r\n        if (needServerData) {\r\n            ewfCrudService.getElementList(vm.listUrl)\r\n                .then((response) => sortedMoveToPage(response, 0))\r\n                .catch((error) => broadcastActionReport('rejected', error)\r\n            );\r\n        } else {\r\n            vm.sortedMoveToPage(vm.attributes.gridData, 0);\r\n        }\r\n    }\r\n\r\n    function sortedMoveToPage(data, page) {\r\n        vm.attributes.gridData = data;\r\n\r\n        sortOutData(vm.sort.column);\r\n        moveToPage(page || vm.pagination.pageIndex);\r\n    }\r\n\r\n    function sortOutData(column) {\r\n        if (!vm.attributes.gridData || !column) {\r\n            return;\r\n        }\r\n\r\n        const order = vm.sort.direction === 'ascending' ? 1 : -1;\r\n        vm.attributes.gridData.sort((rowA, rowB) => {\r\n            if (angular.isFunction(onSortCallback)) {\r\n                const sortResult = onSortCallback(column, rowA, rowB);\r\n                if (angular.isDefined(sortResult)) {\r\n                    return sortResult ? -order : order;\r\n                }\r\n            }\r\n\r\n            return sortByColumns(rowA, rowB, column, order);\r\n        });\r\n    }\r\n\r\n    function sortByColumns(rowA, rowB, column, order) {\r\n        const rowAColumnValue = rowA[column] || '';\r\n        const rowBColumnValue = rowB[column] || '';\r\n        const rowAColumnNumericValue = parseInt(rowAColumnValue, 10);\r\n        const rowBColumnNumericValue = parseInt(rowBColumnValue, 10);\r\n        if (isFinite(rowAColumnNumericValue) && isFinite(rowBColumnNumericValue)) {\r\n            return rowAColumnNumericValue < rowBColumnNumericValue ? -order : order;\r\n        }\r\n        return rowAColumnValue.toLowerCase() < rowBColumnValue.toLowerCase() ? -order : order;\r\n    }\r\n\r\n    function handleSearch($data) {\r\n        sortedMoveToPage($data, 0);\r\n\r\n        if (!$data || !$data.length) {\r\n            modalService.showMessageDialog({\r\n                message: 'There is no address matching your keyword'\r\n            });\r\n        }\r\n    }\r\n\r\n    function triggerEvent(attributeName, value) {\r\n        attrsService.trigger($scope, $attrs, attributeName, value);\r\n    }\r\n\r\n    function moveToPageIfExists(pageIndex) {\r\n        if (pageIndex !== undefined && pageIndex !== null && pageIndex >= 0 && vm.pagination.pageCount > pageIndex) {\r\n            moveToPage(pageIndex);\r\n        } else if (pageIndex < 0) {\r\n            vm.pagination.pageIndex = 0;\r\n        } else if (vm.pagination.pageCount < vm.pagination.pageIndex + 1) {\r\n            vm.pagination.pageIndex = vm.pagination.pageCount;\r\n        }\r\n    }\r\n\r\n    function moveToPage(pageIndex) {\r\n        vm.pagination.pageSize = +vm.pagination.pageSize;\r\n        vm.pagination = paginationService.paginate(vm.attributes.gridData, pageIndex, vm.pagination.pageSize);\r\n        vm.attributes.pagination = vm.pagination;\r\n        return vm.pagination;\r\n    }\r\n\r\n    function setSortOrder(column, direction) {\r\n        if (vm.sort.column !== column || vm.sort.direction !== direction) {\r\n            vm.sort.column = column;\r\n            vm.sort.direction = direction;\r\n\r\n            sortOutData(column);\r\n            vm.moveToPage(0);\r\n        }\r\n    }\r\n\r\n    function toggleSortOrder(column) {\r\n        if (vm.attributes.disableSorting) {\r\n            return;\r\n        }\r\n\r\n        let direction;\r\n        if (vm.sort.column === column) {\r\n            direction = (vm.sort.direction === 'ascending' ? 'descending' : 'ascending');\r\n        } else {\r\n            direction = 'ascending';\r\n        }\r\n\r\n        setSortOrder(column, direction);\r\n    }\r\n\r\n    function setPageSelection(value) {\r\n        vm.pagination.data.forEach((row) => row.isSelected = value);\r\n    }\r\n\r\n    function getSelectedKeysOnCurrentPage() {\r\n        return vm.pagination.data.filter((row) => row.isSelected).map((row) => row.key);\r\n    }\r\n\r\n    function getSelectedKeysOnAllPages() {\r\n        return vm.attributes.gridData.filter((row) => row.isSelected).map((row) => row.key);\r\n    }\r\n\r\n    function getSortOrderCssClasses(columnName) {\r\n        return vm.sort.column === columnName && !vm.attributes.disableSorting ? `current ${vm.sort.direction}` : '';\r\n    }\r\n\r\n    function addElement(elementDetails) {\r\n        return ewfCrudService.addElement(vm.addUrl, elementDetails)\r\n            .then((response) => {\r\n                vm.attributes.gridData.push(response);\r\n                vm.rebuildGrid();\r\n                return response;\r\n            })\r\n            .catch((error) => {\r\n                vm.broadcastActionReport('rejected', error);\r\n                return $q.reject(error);\r\n            });\r\n    }\r\n\r\n    function updateElement(elementDetails) {\r\n        return ewfCrudService.updateElement(vm.updateUrl, elementDetails)\r\n            .then((response) => {\r\n                const elementToUpdate = vm.attributes.gridData.find((singleElement) =>\r\n                    singleElement.key === response.key\r\n                );\r\n                Object.assign(elementToUpdate, response);\r\n                return response;\r\n            });\r\n    }\r\n\r\n    function getElement(key) {\r\n        return ewfCrudService.getElementDetails(vm.getElementUrl, key)\r\n            .then((response) => response)\r\n            .catch((error) => broadcastActionReport('rejected', error));\r\n    }\r\n\r\n    function deleteElements(elementKeys, messageCode) {\r\n        const count = angular.isArray(elementKeys) ? elementKeys.length : 1;\r\n        const modalMessageCode = messageCode || 'common.delete_one_item_confirmation_message';\r\n        nlsService.getTranslation(modalMessageCode)\r\n            .then((modalMessage) => {\r\n                return modalService.showConfirmationDialog({\r\n                    message: modalMessage.replace('{number}', count),\r\n                    nlsTitle: 'common.confirm_deletion_title',\r\n                    okButtonNlsLabel: 'common.confirm_deletion_button_yes',\r\n                    cancelButtonNlsLabel: 'common.confirm_deletion_button_no'\r\n                })\r\n                    .then(() => {\r\n                        vm.selectAll = false;\r\n                        setPageSelection(false);\r\n                        ewfCrudService.deleteElements(elementKeys, vm.deleteUrl, vm.deleteParamName)\r\n                            .then((keysOfElements) => {\r\n                                const keyArray = [].concat(keysOfElements);\r\n                                vm.attributes.gridData = vm.attributes.gridData.filter((item) =>\r\n                                    !keyArray.includes(item.key)\r\n                                );\r\n                                rebuildGrid();\r\n                                broadcastActionReport('deleted', keyArray.length);\r\n                            })\r\n                            .catch((error) => broadcastActionReport('rejected', error));\r\n                    });\r\n            });\r\n    }\r\n\r\n    function bulkDeleteElements(messageCode) {\r\n\r\n        /*\r\n         DHLEWFCON-6164. customer requirement\r\n         We should delete all selected elements no just on current shown page.\r\n        */\r\n        const elementsToDelete = vm.getSelectedKeysOnAllPages();\r\n\r\n        vm.deleteElements(elementsToDelete, messageCode);\r\n        vm.changeMarkersToFalse();\r\n    }\r\n\r\n    function changeMarkersToFalse() {\r\n        vm.showActions = false;\r\n        vm.selectAll = false;\r\n    }\r\n\r\n    function showActionsToFalse() {\r\n        vm.showActions = false;\r\n    }\r\n\r\n    function showActionsInvert() {\r\n        vm.showActions = !vm.showActions;\r\n    }\r\n\r\n    function broadcastActionReport(action, notificationData) {\r\n        if (vm.ctrlToNotify) {\r\n            let actionTypesInstance = Object.create(vm.actionNotificationTypes);\r\n            actionTypesInstance[action] = true;\r\n            gridStateChanged(actionTypesInstance, notificationData, vm.ctrlToNotify);\r\n        }\r\n    }\r\n\r\n    function gridStateChanged(actionCases, sharedData, ctrl) {\r\n        ctrl.gridActionStatus = actionCases;\r\n        ctrl.notificationData = sharedData;\r\n        $timeout(() => {\r\n            ctrl.gridActionStatus = {};\r\n        }, 4000);\r\n    }\r\n\r\n    function hideColumnCustomizationDialog() {\r\n        modalWindow.close();\r\n    }\r\n\r\n    function showColumnCustomizationDialog() {\r\n        vm.selectedColumns = {};\r\n        vm.attributes.visibleColumns.forEach((column, index) => {\r\n            vm.selectedColumns[`column${index + 1}`] = {\r\n                alias: column.alias,\r\n                title: column.title\r\n            };\r\n        });\r\n\r\n        modalWindow = modalService.showDialog({\r\n            closeOnEsc: true,\r\n            scope: $scope,\r\n            windowClass: 'ewf-modal_width_full',\r\n            template:'<ewf-modal><div column-customization><div id=modal_customizeColumns class=\\\"modal full-width\\\" ng-class=\\\"{visible: ewfGridCtrl.getColumnCustomizationVisibility()}\\\"><table class=\\\"table table_zebra\\\"><tbody><tr><th nls=address-book.column_1_title></th><th nls=address-book.column_2_title></th><th nls=address-book.column_3_title></th><th nls=address-book.column_4_title></th><th nls=address-book.column_5_title></th></tr><tr><td><span class=select><select ng-model=ewfGridCtrl.selectedColumns.column1 ng-options=\\\"columns.translatedTitle for columns in ewfGridCtrl.attributes.availableColumns track by columns.alias\\\"></select></span></td><td><span class=select><select ng-model=ewfGridCtrl.selectedColumns.column2 ng-options=\\\"columns.translatedTitle for columns in ewfGridCtrl.attributes.availableColumns track by columns.alias\\\"></select></span></td><td><span class=select><select ng-model=ewfGridCtrl.selectedColumns.column3 ng-options=\\\"columns.translatedTitle for columns in ewfGridCtrl.attributes.availableColumns track by columns.alias\\\"></select></span></td><td><span class=select><select ng-model=ewfGridCtrl.selectedColumns.column4 ng-options=\\\"columns.translatedTitle for columns in ewfGridCtrl.attributes.availableColumns track by columns.alias\\\"></select></span></td><td><span class=select><select ng-model=ewfGridCtrl.selectedColumns.column5 ng-options=\\\"columns.translatedTitle for columns in ewfGridCtrl.attributes.availableColumns track by columns.alias\\\"></select></span></td></tr></tbody></table><a class=\\\"btn btn_right close-modal\\\" ng-click=ewfGridCtrl.updateVisibleColumns() nls=address-book.update_button_title></a> <a class=\\\"x-button close-modal\\\" ng-click=ewfGridCtrl.hideColumnCustomizationDialog()></a></div></div></ewf-modal>'\r\n        });\r\n    }\r\n\r\n    function updateVisibleColumns() {\r\n        attrsService.trigger($scope, $attrs, 'onColumnsChanged', {selectedColumns: vm.selectedColumns});\r\n        const isStillSorted = Object.keys(vm.selectedColumns).some((key) =>\r\n            vm.selectedColumns[key].alias === vm.sort.column\r\n        );\r\n\r\n        if (!isStillSorted) {\r\n            vm.setSortOrder(vm.selectedColumns.column1.alias, 'ascending');\r\n        }\r\n        vm.hideColumnCustomizationDialog();\r\n    }\r\n\r\n    function isCurrentPage(page) {\r\n        if (page) {\r\n            return vm.pagination.pageIndex === page.index;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    function updatePagination(pagination) {\r\n        vm.pagination = pagination;\r\n    }\r\n}\r\n"],"sourceRoot":"/source/"}