// Old styles

.noscroll {
    overflow: hidden;
    height: 100%;
}


#modals {
    position: fixed;
    z-index: 0;
    top: 0;
    left: 0;
    visibility: hidden;
    overflow: hidden;
    width: 100%;
    height: 0;
    transition: opacity .25s, visibility .25s;
    opacity: 0;

    #modal-bg {
        position: fixed;
        top: 0;
        left: 0;
        visibility: hidden;
        width: 100%;
        height: 100%;
        transition: opacity .25s, visibility .25s;
        opacity: 0;
        background: rgba(#000,0.6);
        .lt-ie9 & {
            background: black;
            -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=40)";
        }
    }
    .modal {
        visibility: hidden;
        transition: opacity .25s, visibility .25s;
        transition-delay: 0;
        opacity: 0;
        img {
            max-width: 100%;
        }
        &:after {
            display: block;
            clear: both;
            content: '';
        }
    }

    &.visible {
        z-index: 10000;
        visibility: visible;
        overflow: visible;
        height: 100%;
        opacity: 1;

        #modal-bg {
            z-index: 101;
            visibility: visible;
            opacity: 1;
        }

        .modal {
            position: fixed;
            z-index: 105;
            right: 0;
            left: 0;
            display: none; // Don't remove this. See LM...
            visibility: visible;
            overflow: auto;
            width: 450px;
            max-height: 92%;
            margin: 30px auto;
            padding: 20px;
            transition-delay: .25s;
            opacity: 1;
            border-radius: 10px;
            background: #fff;

            &.gray {
                background: $COLOR_GRAY_6;
            }

            &.full-width {
                width: 90%;
                max-width: 1040px;
            }
            &.half-width {
                width: 45%;
                max-width: 500px;
            }
            &.large-width {
                width: 70%;
                max-width: 700px;
            }
            &.static {
                position: relative;
            }
            &.visible {
                display: block;
            }

            a.x-button {
                $closeSize: 24px;

                position: absolute;
                top: 5px;
                right: 5px;
                width: $closeSize;
                height: $closeSize;
                cursor: pointer;
                transition: all .25s;
                text-align: center;
                color: $white;
                border-radius: $closeSize;
                background-color: #000;
                font-size: $closeSize/2;
                line-height: $closeSize;

                @include dhlicon(close, all) {
                    position: relative;
                    vertical-align: bottom;
                    font-size: $closeSize/2;
                    line-height: $closeSize;
                    margin-right: 0;
                }
            }

            h1 {
                margin-top: 0;
            }
        }
    }
}

.modal {
    .center {
        width: 50%;
        margin-right: auto;
        margin-left: auto;
    }
    .btn-close,
    &__btn-close {
        $closeSize: 24px;

        position: absolute;
        top: 5px;
        right: 5px;
        width: $closeSize;
        height: $closeSize;
        cursor: pointer;
        transition: all .25s;
        text-align: center;
        color: $white;
        border-radius: $closeSize;
        background-color: #000;
        font-size: $closeSize/2;
        line-height: $closeSize;
        z-index: $Z_INDEX_2;

        @include dhlicon(close, all) {
            position: relative;
            margin-left: 0.25em;
            vertical-align: bottom;
            font-size: $closeSize/2;
            line-height: $closeSize;
            margin-right: 0;
        }


    }
}

// My Profile: Edit Quick Link Modal
.modal-edit-link {
    &__btn-save {
        margin-top: 32px;
      }
    &__text-input {
        width: 100%;
    }
}
// [END] My Profile: Edit Quick Link Modal




///// NEW STYLES

// Kill the scroll on the body
.modal-open {
    overflow: hidden;
    height: 100%;

    .ewf-modal-bg {
        opacity: 1;
        visibility: visible;
    }
}

.ewf-modal {
    @extend .ewf-modal__scroll-inside;

    position: fixed;
    z-index: $MODAL_Z_INDEX;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    display: none;
    overflow: hidden;
    outline: 0;

    &_grey .ewf-modal__content {
        background: $COLOR_GRAY_6;
    }

    &__header {
        padding-right: 10px;
        margin-bottom: 20px;
    }

    &__footer {
        @include clearfix;

        text-align: right;
        margin-top: 20px;
    }

    &__title {
        margin: 0;
    }

    &__img {
        max-width: 100%;
    }

    .btn-close {
        position: absolute;
        top: 5px;
        right: 5px;
    }

    &-bg {
        position: fixed;
        z-index: $MODAL_Z_INDEX - 10;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        opacity: 0;
        background-color: $COLOR_GRAY_1; // For old IE, will be better add img.
        background-color: rgba(#000,0.6);
        visibility: hidden;
        transition: opacity .25s, visibility .25s;

        &.is-visible {
            opacity: 1;
            visibility: visible;
        }
    }
}

.ewf-modal_scroll-outside {
    -webkit-overflow-scrolling: touch;
    overflow-x: hidden;
    overflow-y: auto;

    &.ewf-modal {
        &_width_large .ewf-modal__content {
            width: 70%;
            max-width: 700px;
        }

        &_width_full .ewf-modal__content {
            width: 90%;
            max-width: 1040px;
        }

        .is-visible & {
            display: block;
        }
    }

    .ewf-modal {
        &__dialog {
//          display: table; TODO: vertical alignment will be added later
            display: block;
            width: 100%;
            height: 100%;
        }

        &__wrapper {
//          display: table-cell; TODO: vertical alignment will be added later
            display: block;
            width: 100%;
            height: 100%;
            vertical-align: middle;
        }

        &__content {
            -webkit-overflow-scrolling: touch;
            overflow-x: hidden;
            overflow-y: auto;

            width: 45%;
            max-width: 500px;
            margin: 30px auto;
            position: relative;
            padding: 20px;
            border-radius: $MODAL_BORDER_RADIUS;
            outline: 0;
            background-color: $MODAL_BG;
        }
    }
}

/*Temporary solution will be changed to when architecture solution for modal will be defined.
 Dissected with Svitlana Pylypenko*/
.ewf-modal_width_full .ewf-modal .ewf-modal__wrapper {
    width: 90%;
    max-width: 1040px;
}

.ewf-modal_width_large .ewf-modal .ewf-modal__wrapper{
    width: 70%;
    max-width: 700px;
}

.ewf-modal__scroll-inside {
    height: 100%;
    width: 100%;
    &.ewf-modal {
        &_width_large .ewf-modal__wrapper {
            width: 70%;
            max-width: 700px;
        }

        &_width_full .ewf-modal__wrapper {
            width: 90%;
            max-width: 1040px;
        }

        .is-visible & {
            display: block;
        }
    }

    .ewf-modal {
        &__dialog {
//          display: table-cell; TODO: vertical alignment will be added later
            display: block;
            width: 100%;
            height: 100%;
            vertical-align: middle;
            padding: 30px 0;
            text-align: center;
        }

        &__wrapper {
            display: inline-block;
            //width: 45%;
            width: auto;
            min-width: 300px;
            max-width: 500px;
            max-height: 100%;
            position: relative;
            border-radius: $MODAL_BORDER_RADIUS;
            outline: 0;
            background-color: $MODAL_BG;
            -webkit-overflow-scrolling: touch;
            overflow-x: hidden;
            overflow-y: auto;
        }

        &__content {
            text-align: left;
            padding: 20px;
        }
    }
}

#modals.visible .modal.visible.modal-packaging-settings {
    overflow: visible;
    width: 550px;

    & .input_width_small {
        width: 70px;
    }
}